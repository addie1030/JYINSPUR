<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_ps_account_fiscal_year_list" model="ir.ui.view">
        <field name="name">ps.account.fiscalyear.list</field>
        <field name="model">ps.account.fiscalyear</field>
        <field name="arch" type="xml">
            <tree string="Account fiscal year list" toolbar="1" >
                <field name="name"/>
                <field name="date_start"/>
                <field name="date_end"/>
                <field name="state" string="State"/>
            </tree>
        </field>
    </record>
    <record id="view_ps_account_fiscal_year_form" model="ir.ui.view">
        <field name="name">account.fiscalyear.form</field>
        <field name="model">ps.account.fiscalyear</field>
        <field name="arch" type="xml">
            <form string="Fiscal year form" >
                <header>
                    <button name="create_period1" states="0" string="Create Period" type="object" class="oe_highlight"
                    />
                    <!--<button name="enable_year" string="启用" help="启用此会计年度" type="object" class="oe_highlight"-->
                            <!--attrs="{'invisible': ['|', ('state', '=', '1'),('state','=','2')]}" confirm="启用后将不能修改会计年度的数据，是否继续？"/>-->

                    <!--<button name="create_period2" states="1" string="生成区间" type="object" class="oe_highlight"-->
                    <!--confirm="已有分录的情况下，会重新生成分录，是否继续？" />-->
                    <field name="state" widget="statusbar" nolabel="1" />
                </header>
                <sheet>
                    <group>
                        <group>
                            <field name="name" placeholder="4-digit Year"/>
                            <!--<field name="period_count"/>-->
                        </group>
                        <group>
                            <field name="date_start"/>
                            <field name="date_end"/>
                        </group>
                    </group>
                    <field colspan="4" name="period_ids" nolabel="1" widget="one2many_list" >
                        <tree string="Period" editable="bottom" decoration-info="financial_state=='1'" decoration-success="financial_state=='2'">
                            <field name="period" placeholder="2-digit Period Number"/>
                            <field name="date_start"/>
                            <field name="date_end"/>
                            <field name="financial_state" string="State"/>
                        </tree>
                    </field>
                </sheet>
            </form>
        </field>
    </record>



    <record id="view_ps_account_period_list" model="ir.ui.view">
        <field name="name">ps.account.period.list</field>
        <field name="model">ps.account.period</field>
        <field name="arch" type="xml">
            <tree string="Account period list" toolbar="1" >
                <field name="year" placeholder="4-digit Year"/>
                <field name="period"/>
                <field name="date_start"/>
                <field name="date_end"/>
                <field name="financial_state" string="State"/>
            </tree>
        </field>
    </record>

    <record id="aciton_ps_fiscalyear" model="ir.actions.act_window">
        <field name="name">Fiscal Year</field>
        <field name="res_model">ps.account.fiscalyear</field>
        <field name="view_type">form</field>
        <field name="help" type="html">
            <p class="oe_view_nocontent_create">
                Click to create a new fiscal year.
            </p>
        </field>
    </record>

    <record id="aciton_ps_period" model="ir.actions.act_window">
        <field name="name">Accounting Period</field>
        <field name="res_model">ps.account.period</field>
        <field name="view_type">form</field>
        <field name="help" type="html">
            <p class="oe_view_nocontent_create">
                Click to create a new accounting period.
            </p>
        </field>
    </record>


    <menuitem id="menu_finance_period"
              name="Accounting Period"
              parent="account.account_account_menu"
              action="aciton_ps_fiscalyear"
              sequence="0"
              groups="account.group_account_manager"/>
    <!--<menuitem id="menu_ps_account_fiscalyear"-->
    <!--name="年度"-->
    <!--parent="menu_finance_period"-->
    <!--action="aciton_ps_fiscalyear"-->
    <!--sequence="1"/>-->
    <!--<menuitem id="menu_ps_account_period"-->
    <!--name="期间"-->
    <!--parent="menu_finance_period"-->
    <!--action="aciton_ps_period"-->
    <!--sequence="2"/>-->
    T
</odoo>