<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="res_company_form_view_inherit_account_taxbill" model="ir.ui.view">
        <field name="name">res.company.form.inherit.ps.account.taxbill</field>
        <field name="model">res.company</field>
        <field name="inherit_id" ref="base.view_company_form"/>
        <field name="arch" type="xml">
            <xpath expr="//group[@name='social_media']" position="before">
                <group>
                    <field name="ps_bank_id"/>
                    <field name="ps_bank_account"/>
                    <field name="ps_tax_version"/>
                    <field name="ps_tax_disk_number"/>
                    <field name="ps_maximum_amount"/>
                </group>
            </xpath>
            <xpath expr="//group[@name='social_media']" position="inside">
                <field name="ps_is_electronic_invoice"/>
                <field name="ps_is_information_push" attrs="{'invisible': [('ps_is_electronic_invoice', '=', False)]}"/>
                <field name="ps_is_email" attrs="{'invisible': ['|',('ps_is_electronic_invoice', '=', False),('ps_is_information_push', '=', False)]}"/>
                <field name="ps_is_sms" attrs="{'invisible': ['|',('ps_is_electronic_invoice', '=', False),('ps_is_information_push', '=', False)]}"/>
            </xpath>
        </field>
    </record>

    <record model="ir.actions.act_window" id="taxbill_register_action">
        <field name="name">Taxbill Register</field>
        <field name="res_model">res.company</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="base.view_company_tree"/>
    </record>

    <record id="action_ps_account_taxbill_config" model="ir.actions.act_window">
        <field name="name">Settings</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">res.config.settings</field>
        <field name="view_mode">form</field>
        <field name="target">inline</field>
        <field name="context">{'module' : 'ps_account_taxbill'}</field>
    </record>

    <record id="product_category_form_view_inherit_account_taxbill" model="ir.ui.view">
        <field name="name">product.category.form.inherit.ps.account.taxbill</field>
        <field name="model">product.category</field>
        <field name="inherit_id" ref="product.product_category_form_view"/>
        <field name="arch" type="xml">
            <xpath expr="//group[@name='first']" position="replace">
                <group name="first" col="2">
                    <group>
                        <field name="parent_id" class="oe_inline"/>
                    </group>
                    <group>
                        <field name="ps_trade_name"/>
                    </group>
                </group>
            </xpath>
        </field>
    </record>

    <record id="pproduct_template_form_view_inherit_account_taxbill" model="ir.ui.view">
        <field name="name">product.template.form.inherit.ps.account.taxbill</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="product.product_template_form_view"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='categ_id']" position="after">
                <field name="ps_trade_name"/>
                <field name="ps_specification"/>
            </xpath>
        </field>
    </record>

    <record id="product_product_action" model="ir.actions.act_window">
        <field name="name">Product</field>
        <field name="res_model">product.product</field>
        <field name="view_mode">kanban,tree,form</field>
        <field name="view_type">form</field>
        <field name="context" eval="{'search_default_filter_to_sell':1}"/>
        <field name="view_id" ref="account.product_product_view_tree"/>
        <field name="help" type="html">
            <p class="oe_view_nocontent_create">
                Click to create a new product
            </p>
        </field>
    </record>

    <menuitem name="Tax bill manage" id="menu_taxbill"
              groups="ps_account_taxbill.group_vat_manager"
              web_icon="ps_account_taxbill,static/description/icon.png"/>

    <menuitem id="menu_manage" name="Manage" parent="ps_account_taxbill.menu_taxbill" sequence="20"/>
        <menuitem id="taxbill_query_menu" name="Taxbill Query" parent="ps_account_taxbill.menu_manage" sequence="2"/>

    <menuitem id="menu_configuration" name="Configuration" parent="ps_account_taxbill.menu_taxbill" sequence="35"/>
        <menuitem id="setting_menu" name="Settings " parent="ps_account_taxbill.menu_configuration" sequence="1" action="action_ps_account_taxbill_config"/>
        <menuitem id="taxbill_register_menu" name="Taxbill Register " parent="ps_account_taxbill.menu_configuration" sequence="2" action="taxbill_register_action"/>
        <menuitem id="product_category_management_menu" name="Product Category " parent="ps_account_taxbill.menu_configuration" sequence="3" action="product.product_category_action_form"/>
        <menuitem id="product_menu" name="Product" parent="ps_account_taxbill.menu_configuration" sequence="4" action="product_product_action"/>
        <menuitem id="customer_menu" name="Customer" parent="ps_account_taxbill.menu_configuration" action="base.action_partner_customer_form" sequence="5"/>
</odoo>