<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <data>
        <!--import js-->
        <template id="assets_backend_analysis" name="asset analysis" inherit_id="web.assets_backend">
            <xpath expr="." position="inside">
                <script type="text/javascript" src="/ps_account_asset/static/src/js/ps_asset_analysis.js"></script>
            </xpath>
        </template>
        <!--insert widget-->
        <record id="ps_account_asset.asset_analysis_view" model="ir.actions.client">
            <field name="name">Asset Analysis</field>
            <field name="tag">asset_analysis_report</field>
            <field name="context" eval="{'model': 'ps.asset.analysis.report'}" />
        </record>
        <!--menu-->
        <menuitem id="menu_asset_analysis_view"
          name="Asset Analysis Sheet"
          parent="ps_account_asset.menu_account_asset_report"
          sequence="19"
          action="ps_account_asset.asset_analysis_view" groups="account.group_account_manager"/>
        <!--main template-->
        <template id="template_asset_analysis_report" inherit_id="ps_account.main_template" primary="True">
            <xpath expr="//tbody" position="replace">
                <t t-if="lines.get('lines')">
                    <t t-call="ps_account_asset.template_asset_analysis_line_report" />
                </t>
            </xpath>
        </template>

        <!--增减方式筛选控件-->
        <template id="search_analytic_increase_style">
            <a type="button" class="dropdown-toggle" data-toggle="dropdown">
                <span class="fa fa-filter"/>Increase Or Decrease:
                <span class="caret"/>
            </a>
            <ul class="dropdown-menu o_filters_menu" role="menu" style="padding-left:5px;padding-right:5px;">
                <li style="margin-top:3px">
                    <label for="analytic_increase_style">Increase Or Decrease :</label>
                    <br/>
                    <select class="js_analytic_increase_style" style="min-width: 140px;" name="analytic_increase_style" data-filter="analytic_increase_style_para">
                        <t t-foreach="options['analytic_increaseList']" t-as="a">
                            <option t-att-value="a['key']"><t t-esc="a['name']" /></option>
                        </t>
                    </select>
                </li>
                <li class="divider" style="margin-top:3px"></li>
                <li style="margin-top:3px">
                    <button type="button" class="btn btn-primary js_analytic_increase_style_filter" data-filter="level">Apply</button>
                </li>
            </ul>
        </template>
        <template id="search_template_asset_analysis">
            <div class="btn-group o_dropdown o_account_reports_filter_date" t-if="options.get('date') != None">
                <t t-call="ps_account.search_template_date">
                </t>
            </div>
            <div class="btn-group o_dropdown o_account_reports_filter_analytic_increase_style" t-if="options.get('analytic_increase_style') != None">
                <t t-call="ps_account_asset.search_analytic_increase_style"/>
            </div>
            <div class="btn-group o_dropdown o_account_reports_filter_asset_type" t-if="options.get('asset_type') != None">
                <t t-call="ps_account_asset.search_asset_type"/>
            </div>
        </template>
        <!--main data-->
        <template id="template_asset_analysis_line_report" inherit_id="ps_account.line_template" primary="True">
            <xpath expr="//span[hasclass('placeholder')]" position="before">
                <t t-foreach="row['columns']" t-as="line">
                    <tr style="height:36px;background:#eee">
                        <td style="text-align:left;vertical-align:middle;padding-left:5px;">
                            <t t-esc="line['Increase Or Decrease']"></t>
                        </td>
                        <td style="text-align:left;vertical-align:middle;padding-left:5px;">
                            <t t-esc="line['Asset Category']"></t>
                        </td>
                        <td style="text-align:left;vertical-align:middle;padding-left:5px;">
                            <t t-esc="line['Asset Code']"></t>
                        </td>
                        <td style="text-align:left;vertical-align:middle;padding-left:5px;">
                            <t t-esc="line['Asset']"></t>
                        </td>
                        <td style="text-align:left;vertical-align:middle;padding-left:5px;">
                            <t t-esc="line['Former Quantity']"></t>
                        </td>
                        <td style="text-align:left;vertical-align:middle;padding-left:5px;">
                            <t t-esc="line['Latter Quantity']"></t>
                        </td>
                        <td style="text-align:left;vertical-align:middle;padding-left:5px;">
                            <t t-esc="line['Former Value']"></t>
                        </td>
                        <td style="text-align:left;vertical-align:middle;padding-left:5px;">
                            <t t-esc="line['Latter Value']"></t>
                        </td>
                        <td style="text-align:left;vertical-align:middle;padding-left:5px;">
                            <t t-esc="line['Former Accumulated Depreciation']"></t>
                        </td>
                        <td style="text-align:left;vertical-align:middle;padding-left:5px;">
                            <t t-esc="line['Latter Accumulated Depreciation']"></t>
                        </td>
                    </tr>
                </t>
            </xpath>
        </template>

    </data>
</odoo>